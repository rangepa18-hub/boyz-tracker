<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Boyz Calendar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
  :root{ --rp:#2196F3; --vr:#9C27B0; }
  body{ font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
        background:linear-gradient(180deg,#f2f7ff,#fff); margin:20px; color:#222; }
  .header{ 
    display:flex;
    justify-content:center;
    align-items:center;
    gap:32px;
    margin-bottom:8px;
    flex-wrap:nowrap;       /* keep in one row */
    overflow-x:auto;        /* allow scroll if too wide */
  }
  .header img{ width:120px;height:120px;object-fit:cover;border-radius:0;box-shadow:0 2px 6px rgba(0,0,0,.2);}
  h1{text-align:center;margin:10px 0;font-weight:500;font-family:"Helvetica Neue",Arial,sans-serif;}
  .legend{display:flex;justify-content:center;gap:60px;margin:12px 0 6px 0;}
  .legend-item{text-align:center;font-weight:700;}
  .legend-paws img{width:22px;height:22px;}
  .summary{text-align:center;margin:8px 0 10px 0;font-weight:600;}
  .controls{display:flex;justify-content:center;gap:10px;align-items:center;margin:6px 0 6px 0;}
  input[type="month"]{padding:4px 6px;font-size:0.95rem;}
  .weekdays{display:grid;grid-template-columns:repeat(7,1fr);margin-top:8px;}
  .day-name{text-align:center;font-weight:600;font-size:0.9rem;color:#444;}
  .calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-top:4px;}
  .day{position:relative;background:#fff;border:1px solid #d7d7d7;border-radius:12px;
       height:56px;overflow:hidden;cursor:pointer;}
  .date-num{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
            font-weight:700;font-size:1.2rem;z-index:2;color:#222;pointer-events:none;}
  .paw-mark{
    position:absolute;width:9px;height:9px;background-size:contain;background-repeat:no-repeat;
    pointer-events:none;
  }
  .paw-blue{background-image:url('paw-blue.png');}
  .paw-purple{background-image:url('paw-purple.png');}
  .day-thumb{
    position:absolute;top:2px;right:2px;width:18px;height:18px;border-radius:4px;object-fit:cover;z-index:3;
  }
  .day-pin{
    position:absolute;top:2px;left:2px;font-size:0.8rem;z-index:3;
  }
  .buttons{display:flex;justify-content:center;gap:10px;margin-top:14px;flex-wrap:wrap;}
  button{background:#333;color:#fff;border:none;border-radius:10px;padding:10px 14px;
         font-size:1rem;cursor:pointer;}
  button:hover{background:#555;}
  
  /* Auth overlay */
  .auth-overlay{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
    display:flex;justify-content:center;align-items:center;z-index:1000;
  }
  .auth-card{
    background:#fff;padding:32px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.3);
    text-align:center;max-width:400px;width:90%;
  }
  .auth-card h2{margin-bottom:20px;color:#333;}
  .auth-input{width:100%;padding:12px;margin:10px 0;border:2px solid #ddd;border-radius:8px;font-size:1rem;box-sizing:border-box;}
  .auth-input:focus{outline:none;border-color:#667eea;}
  .auth-btn{background:#667eea;color:#fff;padding:12px 24px;border:none;border-radius:8px;
           font-size:1rem;cursor:pointer;width:100%;margin-top:10px;}
  .auth-btn:hover{background:#5a67d8;}
  .auth-btn:disabled{background:#ccc;cursor:not-allowed;}
  .auth-error{color:#e53e3e;margin-top:10px;font-size:0.9rem;}
  .loading{display:none;margin:20px 0;color:#666;}
  
  /* Status indicator */
  .status{position:fixed;top:10px;right:10px;background:rgba(0,0,0,0.7);color:#fff;
          padding:8px 12px;border-radius:20px;font-size:0.8rem;z-index:50;}
  .status.online{background:rgba(34,197,94,0.9);}
  .status.offline{background:rgba(239,68,68,0.9);}

  #popup{
    position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
    background:#fff;border-radius:12px;padding:16px;width:80%;max-width:300px;
    box-shadow:0 4px 10px rgba(0,0,0,.3);z-index:100;display:none;
  }
  #popup input[type="file"]{margin:6px 0;}
  #popup textarea{width:100%;height:60px;margin:6px 0;resize:none;border:1px solid #ddd;border-radius:4px;padding:8px;box-sizing:border-box;}
  #popup select{width:100%;padding:4px;border:1px solid #ddd;border-radius:4px;}
  #popup button{margin-top:8px;width:100%;}
  #overlay{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,.4);z-index:99;display:none;
  }
  #photoView, #noteView {
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,.85);z-index:200;display:none;
    justify-content:center;align-items:center;flex-direction:column;
    padding:20px;box-sizing:border-box;text-align:center;
  }
  #photoView img{
    max-width:90%;max-height:70%;border-radius:10px;
  }
  #photoNote {
    color:#fff;
    margin-top:12px;
    max-width:90%;
    text-align:center;
    font-size:1rem;
    white-space:pre-wrap;
  }
  #noteText {
    color:#fff;
    font-size:1.2rem;
    white-space:pre-wrap;
    max-width:90%;
  }
  #closePhoto,#closeNote {
    margin-top:20px;background:#fff;color:#333;border:none;
    padding:8px 14px;border-radius:8px;font-size:1rem;cursor:pointer;
  }

  .hidden { display: none !important; }
</style>
</head>
<body>

<!-- Auth Overlay -->
<div id="authOverlay" class="auth-overlay">
  <div class="auth-card">
    <h2>üêæ Boyz Calendar Access</h2>
    <p>Enter the access code to view the calendar</p>
    <input type="password" id="accessCode" class="auth-input" placeholder="Access code" />
    <button id="authBtn" class="auth-btn">Access Calendar</button>
    <div id="authError" class="auth-error"></div>
    <div id="loading" class="loading">Connecting...</div>
  </div>
</div>

<!-- Status Indicator -->
<div id="status" class="status">Connecting...</div>

<!-- Main App (hidden until authenticated) -->
<div id="app" class="hidden">
  <div id="captureArea">
    <div class="header">
      <img src="LEO.jpg" alt="Leo" />
      <img src="boyz.jpg" alt="Leo & Benny" />
      <img src="BENNY.jpg" alt="Benny" />
      <img src="LEO2.jpg" alt="Leo2" />
      <img src="BENNY2.jpg" alt="Benny2" />
    </div>

    <h1>Boyz Calendar</h1>

    <!-- legend, summary, controls, calendar, etc remain unchanged -->
    ...
  </div>
</div>

<!-- The rest of your script and markup stay exactly the same -->
<script type="module">
  /* your existing JavaScript unchanged */
</script>
</body>
</html>
